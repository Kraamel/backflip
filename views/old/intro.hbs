{{#if intro}}
  <script src="https://cdn.jsdelivr.net/intro.js/2.5.0/intro.min.js"></script>
  <script>
  var introRecord0;
  var introRecord1;
  var introWide = false;

  function setIntro() {
    //search.helper.clearRefinements().toggleRefinement('structure.0','@HQ > @Services > @HR').setQuery('HR Intern').search();
    if (window.matchMedia('(min-width: 1280px)').matches) {
      introWide = true;
    }
    introRecord0 = document.querySelectorAll('#search-results .record.person')[0];
    introRecord1 = document.querySelectorAll('#search-results .record.person')[1];
    introRecord1.classList.add('expanded');
  }

  function startIntro(){
    setIntro();
    var intro = introJs();
    intro.setOptions({
        steps: introSteps(),
        hidePrev: true,
        hideNext: true,
        showStepNumbers: false,
        nextLabel: "{{{__ "Next <i class='fa fa-arrow-right' aria-hidden='true'></i>"}}}",
        prevLabel: "{{{__ "<i class='fa fa-arrow-left' aria-hidden='true'></i> Previous"}}}",
        skipLabel: "{{{__ "Skip <i class='fa fa-times' aria-hidden='true'></i>"}}}",
        doneLabel: "{{{__ "Done <i class='fa fa-thumbs-up' aria-hidden='true'></i>"}}}"
      });
    intro.start();
  }
  </script>
  {{#if intro.welcome}}
    {{> welcome_intro_steps}}
  {{else}}
    {{> demo_intro_steps}}
  {{/if}}
  {{#if intro.auto}}
    <script>
      var introShowed = false;
      var customIntroWidget = {
        render: function(args){
          if (!introShowed) {
            startIntro();
            introShowed = true;
          }
        }
      };
      search.addWidget(customIntroWidget);
    </script>
  {{/if}}
{{/if}}
